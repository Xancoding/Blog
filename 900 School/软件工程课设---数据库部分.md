# 一些特殊的数据字段
merit 擅长领域：'情绪困扰','家庭困扰','学业职场','人际关系','亲密关系','心理健康','个人成长'
method 咨询方式：'面对面咨询','视频咨询','文字咨询','电话咨询'
time 咨询师可选预约时间：'周一上午','周一下午','周二上午','周二下午','周三上午','周三下午','周四上午','周四下午','周五上午','周五下午'

# 需求分析
心理咨询信息发布与预约系统 数据库中有 **3** 个实体集
1. “咨询师” 实体集，属性有 **医师编号(账号)**、性别、姓名、地区、微信、电话、咨询经验（小时）、邮箱、收费标准（RMB/小时）、写给来访者、<u>擅长领域</u>、<u>咨询方式</u>、<u>**咨询时间**</u>
	1. 擅长领域 用 7 位二进制存储，分别是 情绪困扰、家庭困扰、学业职场、人际关系、亲密关系、心理健康、个人成长
	2. 咨询方式 用 4 位二进制存储，分别是 面对面咨询、视频咨询、文字咨询、电话咨询
	3. 咨询时间 用 10 位 二进制存储  示例：1100000000，表示 周一上午和下午是有空的
2. “咨询者” 实体集，属性有 **账号**、密码、姓名、微信、电话、QQ、邮箱

实体集之间的关系为：
1. **咨询师** 与 **咨询者** 之间是 多对多 关系，**咨询者** 咨询 **咨询师**

# ER图
![image.png](https://bu.dusays.com/2023/10/15/652b66d5d6226.png)

# 关系模式

咨询者==counselee==(**咨询者编号cno（自增）**、QQ、==用户编号user_id==) 

咨询师==counselor==(**咨询师编号dno（自增）**、性别gender、地区area、咨询经验（小时）experience、收费标准（RMB/小时）charge、写给来访者motto、<u>擅长领域merit</u>、<u>咨询方式method</u>、<u>咨询时间time</u>、==用户编号user_id==) 

咨询记录==record==(**预约编号rno（自增）**、==来访者编号cno==、==医师编号dno==、预约时间time、咨询是否已完成history、咨询状态state)

用户==User==(**用户编号user_id（自增）**、用户名user_name、手机号phone_number（账号）、密码password、微信wechat、邮箱email)

- 医师编号 的被参照表是 咨询师
- 来访者编号 的被参照表是 咨询者
- 咨询状态 6 个
- 咨询记录作为基本表，上面建立三个视图
	1. 咨询者——我的咨询：**预约编号**、==医师编号==、医师姓名、预约时间、咨询者的预约状态(等待对方通过、通过、拒绝、对方申请取消、等待对方同意取消)
	2. 咨询师——我的咨询：**预约编号**、==来访者编号==、来访者姓名、预约时间、咨询师的预约状态(等待审核、通过、拒绝、等待对方同意取消、对方申请取消)
	3. 历史记录，属性 有 **预约编号**、==医师编号(账号)==、==来访者编号(账号)==、预约时间、历史记录状态（咨询成功、咨询失败）（空表示还不是历史记录）（0失败、1成功）
		1. 如果是 咨询者 请求，给出 **预约编号**、==医师编号==、医师姓名、预约时间、咨询者的预约状态
		2. 如果是 咨询师 请求，给出 **预约编号**、来访者姓名、预约时间、咨询师的预约状态 

# 关系模式
咨询者（咨询者编号，）